var entry = require('./entry');
var assert = require('assert');

var foo = function() {
  console.log("Foo");
};

var bar = function() {
  console.log("Bar");
};

(function(){

  console.log("Testing get");

  entry.get("foo", foo);

  assert.equal(
    foo,
    entry.get_path_callback("GET","foo"),
    "Function is not storing correctly in get"
  );

  assert.notEqual(
    bar,
    entry.get_path_callback("GET", "foo"),
    "bar and foo should not be equal"
  );

})();

(function(){

  console.log("Testing post");

  entry.post("foo", foo);

  assert.equal(
    foo,
    entry.get_path_callback("POST","foo"),
    "Function is not storing correctly in get"
  );

  assert.notEqual(
    bar,
    entry.get_path_callback("POST", "foo"),
    "bar and foo should not be equal"
  );

})();

(function(){

  console.log("Testing delete");

  entry.delete("foo", foo);

  assert.equal(
    foo,
    entry.get_path_callback("DELETE","foo"),
    "Function is not storing correctly in get"
  );

  assert.notEqual(
    bar,
    entry.get_path_callback("DELETE", "foo"),
    "bar and foo should not be equal"
  );

})();

(function(){

  console.log("Testing put");

  entry.put("foo", foo);

  assert.equal(
    foo,
    entry.get_path_callback("PUT","foo"),
    "Function is not storing correctly in get"
  );

  assert.notEqual(
    bar,
    entry.get_path_callback("PUT", "foo"),
    "bar and foo should not be equal"
  );

})();
